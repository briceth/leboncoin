<% include partials/header.ejs %>
    <div class="container-annonce-show">
        <div class="details-annonce-show">
        <h3><%= annonce.title %></h3>

        <div class="img-annonce-show"> 
            <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner">
                    <% for (var i = 0; i < annonce.img.length; i++) { %>
                        <% if(i == 0) { %>
                            <div class="carousel-item active">
                                <img class="d-block w-100" src="<%= annonce.img[i] %>" alt="photo">
                            </div>
                        <% } else { %>
                            <div class="carousel-item">
                                <img class="d-block w-100" src="<%= annonce.img[i] %>" alt="photo">
                            </div>
                        <% } %>
                    <% } %>
                </div>
        <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>

        </div>
            <p><%= annonce.pseudo %></p>
            <p><span>Prix:</span> <%= annonce.price %></p>
            <p><span>Ville:</span> <%= annonce.city %></p>
            <p><span>Description:</span> <%= annonce.description %></p>
            <div class="actions-annonce-show">
                <a href="/..../<%= annonce._id %>"></a>
                    <button class="btn btn-blue">Mettre Ã  jour</button>
                </a>
                <a href="/delete/<%= annonce._id %>">
                    <button class="btn btn-red">Supprimer</button>
                </a>
            </div>
            <div id="map"></div>
        </div>
    </div>
    <% include partials/_footer.ejs %>
    <%= annonce.address.lat %>
    <%= annonce.address.lng %>
   <script>
    const lng = '<%= annonce.address.lat %>'
    const lat = '<%= annonce.address.lng %>'
        
    let map;
    function initMap() {
      map = new google.maps.Map(document.getElementById('map'), {
        center: {lat: Number(lat), lng: Number(lng)},
        zoom: 8
      });
    }
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDgpQR_-YLaXhMIv2Zpmsh__dOIMT3NbjQ&callback=initMap"
async defer></script>